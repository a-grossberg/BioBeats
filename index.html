<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wavelet - Calcium Imaging Sonification</title>
    <script src="https://unpkg.com/css-doodle@0.38.3/css-doodle.min.js"></script>
    <script>
      // Ensure CSS Doodle is ready
      if (typeof customElements !== 'undefined' && !customElements.get('css-doodle')) {
        customElements.whenDefined('css-doodle').then(() => {
          console.log('CSS Doodle loaded');
        });
      }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- SVG Filters for glass effects -->
    <svg id="svg" style="display: none" class="filter" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id='diffuse'>
          <feTurbulence type='fractalNoise' baseFrequency='0.1' result='noise' />
          <feDiffuseLighting in='noise' lighting-color='white' surfaceScale='1'>
            <feDistantLight azimuth='55' elevation='1' />
          </feDiffuseLighting>
        </filter>
        
        <filter id='noise'>
          <feTurbulence type='fractalNoise' baseFrequency='0.1' result='noise' />
        </filter>
        
        <filter id="ice">
          <feTurbulence 
            type="fractalNoise" 
            baseFrequency="1" 
            numOctaves="1" 
            result="noise" />
          <feGaussianBlur in="noise" stdDeviation="0.3" result="softNoise" />
          <feColorMatrix
            in="noise"
            type="matrix"
            values="
            0.1 0 0 0 0.1
            0 0.1 0 0 0.1
            0 0 0.1 0 0.1
            0 0 0 1 0"
            result="dimmedNoise" />
          <feColorMatrix 
            in="noise" 
            type="saturate" 
            values="0" 
            result="mono" />
          <feDisplacementMap 
            in2="dimmedNoise"
            scale="2" 
            xChannelSelector="R" 
            yChannelSelector="G" />
        </filter>
        
        <filter id="liquid-glass" x="-50%" y="-50%" width="200%" height="200%">
          <feTurbulence 
            type="fractalNoise"
            baseFrequency="0.01 0.01"
            numOctaves="3"
            seed="92"
            result="noise" />
          <feGaussianBlur 
            in="noise"
            stdDeviation="1"
            result="blur" />
          <feDisplacementMap 
            in="SourceGraphic"
            in2="blur"
            scale="120"
            xChannelSelector="R"
            yChannelSelector="G" />
        </filter>
      </defs>
    </svg>
  </body>
</html>

